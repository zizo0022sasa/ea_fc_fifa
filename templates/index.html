<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FC 26 - Ø·Ù„Ø¨ Ø¨ÙŠØ¹ Ø§Ù„ÙƒÙˆÙŠÙ†Ø²</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    
    <style>
        /* Ø³ØªØ§ÙŠÙ„ Ù…Ø¨Ø³Ø· Ø¨Ø¯ÙˆÙ† Ø¬Ø§ÙØ§ Ø³ÙƒØ±ÙŠØ¨Øª */
        .message.show {
            display: block;
            animation: slideInFromTop 0.5s ease;
        }
        
        .option-btn.selected {
            background: linear-gradient(45deg, rgba(0, 204, 102, 0.1), rgba(0, 102, 204, 0.1));
            border-color: var(--secondary-color);
            transform: scale(1.02);
        }
        
        .dynamic-payment-input {
            display: none;
            margin-top: 20px;
            animation: slideDown 0.3s ease;
        }
        
        .dynamic-payment-input.show {
            display: block;
        }
        
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .form-input.invalid {
            border-color: #DC2626;
            background: rgba(239, 68, 68, 0.1);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="profile-card">
            <div class="header">
                <h1>ğŸ® FC 26 - EA SPORTS</h1>
                <p>Ø·Ù„Ø¨ Ø¨ÙŠØ¹ Ø§Ù„ÙƒÙˆÙŠÙ†Ø² - Ø¨Ø¯ÙˆÙ† Ø¬Ø§ÙØ§ Ø³ÙƒØ±ÙŠØ¨Øª</p>
            </div>

            <!-- Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­ ÙˆØ§Ù„Ø®Ø·Ø£ -->
            {% if success_message %}
            <div class="message success show">
                {{ success_message|safe }}
            </div>
            {% endif %}

            {% if error_message %}
            <div class="message error show">
                {{ error_message|safe }}
            </div>
            {% endif %}

            <form method="POST" action="{{ url_for('submit_coins_order') }}">
                <!-- Ù†ÙˆØ¹ Ø§Ù„ØªØ­ÙˆÙŠÙ„ -->
                <div class="form-section">
                    <h2 class="section-title">
                        <i class="fas fa-exchange-alt"></i>
                        Ù†ÙˆØ¹ Ø§Ù„ØªØ­ÙˆÙŠÙ„
                    </h2>
                    
                    <div class="option-buttons">
                        <label class="option-btn {{ 'selected' if form_data.get('transfer_type') == 'instant' else '' }}">
                            <input type="radio" name="transfer_type" value="instant" 
                                   {{ 'checked' if form_data.get('transfer_type') == 'instant' else '' }} 
                                   style="display: none;">
                            <i class="fas fa-bolt"></i>
                            <div class="option-title">ØªØ­ÙˆÙŠÙ„ ÙÙˆØ±ÙŠ</div>
                            <div class="option-subtitle">Ø£Ø³Ø±Ø¹ ÙÙŠ Ø§Ù„ØªÙ†ÙÙŠØ° - Ø®ØµÙ… 15%</div>
                        </label>
                        
                        <label class="option-btn {{ 'selected' if form_data.get('transfer_type') == 'normal' else '' }}">
                            <input type="radio" name="transfer_type" value="normal" 
                                   {{ 'checked' if form_data.get('transfer_type') == 'normal' else '' }} 
                                   style="display: none;">
                            <i class="fas fa-clock"></i>
                            <div class="option-title">ØªØ­ÙˆÙŠÙ„ Ø¹Ø§Ø¯ÙŠ</div>
                            <div class="option-subtitle">24-48 Ø³Ø§Ø¹Ø© - Ø¨Ø¯ÙˆÙ† Ø®ØµÙ…</div>
                        </label>
                    </div>
                    {% if validation_errors.get('transfer_type') %}
                    <div class="error-message show">{{ validation_errors.transfer_type }}</div>
                    {% endif %}
                </div>

                <!-- ÙƒÙ…ÙŠØ© Ø§Ù„ÙƒÙˆÙŠÙ†Ø² -->
                <div class="form-section">
                    <h2 class="section-title">
                        <i class="fas fa-coins"></i>
                        ÙƒÙ…ÙŠØ© Ø§Ù„ÙƒÙˆÙŠÙ†Ø² Ø§Ù„Ù…Ø±Ø§Ø¯ Ø¨ÙŠØ¹Ù‡Ø§
                    </h2>
                    
                    <div class="coins-calculator">
                        <div class="coins-input-group">
                            <input type="number" 
                                   class="form-input coins-input {{ 'invalid' if validation_errors.get('coins_amount') else '' }}" 
                                   name="coins_amount" 
                                   placeholder="300" 
                                   min="300" 
                                   max="99999"
                                   value="{{ form_data.get('coins_amount', '') }}">
                            <div class="coins-unit">K</div>
                        </div>
                        
                        <div class="price-display">
                            <div class="price-label">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³ØªØ­Ù‚ (ØªÙ‚Ø±ÙŠØ¨ÙŠ)</div>
                            <div class="price-amount">
                                {% if form_data.get('coins_amount') and form_data.get('transfer_type') %}
                                    {% set coins = form_data.coins_amount|int %}
                                    {% set base_price = coins * 0.02 %}
                                    {% if form_data.transfer_type == 'instant' %}
                                        {{ "%.2f"|format(base_price * 0.85) }} Ø¬Ù†ÙŠÙ‡
                                    {% else %}
                                        {{ "%.2f"|format(base_price) }} Ø¬Ù†ÙŠÙ‡
                                    {% endif %}
                                {% else %}
                                    0 Ø¬Ù†ÙŠÙ‡
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    {% if validation_errors.get('coins_amount') %}
                    <div class="error-message show">{{ validation_errors.coins_amount }}</div>
                    {% endif %}
                </div>

                <!-- Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø³Ø§Ø¨ EA -->
                <div class="form-section">
                    <h2 class="section-title">
                        <i class="fas fa-user-shield"></i>
                        Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø³Ø§Ø¨ EA
                    </h2>
                    
                    <div class="ea-security-notice">
                        <i class="fas fa-shield-alt"></i>
                        Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù…Ø­Ù…ÙŠØ© Ø¨Ø£Ø¹Ù„Ù‰ Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„ØªØ´ÙÙŠØ± Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ
                    </div>

                    <div class="form-group">
                        <label class="form-label">ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù„Ø­Ø³Ø§Ø¨ EA</label>
                        <input type="email" 
                               class="form-input {{ 'invalid' if validation_errors.get('ea_email') else '' }}" 
                               name="ea_email" 
                               placeholder="example@gmail.com" 
                               value="{{ form_data.get('ea_email', '') }}"
                               required>
                        {% if validation_errors.get('ea_email') %}
                        <div class="error-message show">{{ validation_errors.ea_email }}</div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label class="form-label">ğŸ”’ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± EA / ÙˆÙŠØ¨ Ø§Ø¨</label>
                        <input type="password" 
                               class="form-input {{ 'invalid' if validation_errors.get('ea_password') else '' }}" 
                               name="ea_password" 
                               placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" 
                               value="{{ form_data.get('ea_password', '') }}"
                               required>
                        {% if validation_errors.get('ea_password') %}
                        <div class="error-message show">{{ validation_errors.ea_password }}</div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label class="form-label">ğŸ›¡ï¸ Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ (6 Ø£ÙƒÙˆØ§Ø¯ - 8 Ø£Ø±Ù‚Ø§Ù… Ù„ÙƒÙ„ ÙƒÙˆØ¯)</label>
                        <div class="backup-codes-grid">
                            {% for i in range(1, 7) %}
                            <input type="text" 
                                   class="form-input backup-code-input" 
                                   name="backup_code_{{ i }}" 
                                   placeholder="12345678" 
                                   maxlength="8"
                                   value="{{ form_data.get('backup_code_' ~ i, '') }}">
                            {% endfor %}
                        </div>
                    </div>
                </div>

                <!-- Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹ -->
                <div class="form-section">
                    <h2 class="section-title">
                        <i class="fas fa-credit-card"></i>
                        Ø·Ø±ÙŠÙ‚Ø© Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø£Ù…ÙˆØ§Ù„
                    </h2>
                    
                    <div class="option-buttons">
                        <label class="option-btn payment-btn {{ 'selected' if form_data.get('payment_method') == 'ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´' else '' }}">
                            <input type="radio" name="payment_method" value="ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´"
                                   {{ 'checked' if form_data.get('payment_method') == 'ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´' else '' }} 
                                   style="display: none;">
                            <i class="fas fa-mobile-alt" style="color: #e60026;"></i>
                            <div class="option-title">ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´</div>
                        </label>
                        
                        <label class="option-btn payment-btn {{ 'selected' if form_data.get('payment_method') == 'Ø§ØªØµØ§Ù„Ø§Øª ÙƒØ§Ø´' else '' }}">
                            <input type="radio" name="payment_method" value="Ø§ØªØµØ§Ù„Ø§Øª ÙƒØ§Ø´"
                                   {{ 'checked' if form_data.get('payment_method') == 'Ø§ØªØµØ§Ù„Ø§Øª ÙƒØ§Ø´' else '' }} 
                                   style="display: none;">
                            <i class="fas fa-mobile-alt" style="color: #ff8c00;"></i>
                            <div class="option-title">Ø§ØªØµØ§Ù„Ø§Øª ÙƒØ§Ø´</div>
                        </label>
                        
                        <label class="option-btn payment-btn {{ 'selected' if form_data.get('payment_method') == 'Ø£ÙˆØ±Ø§Ù†Ø¬ ÙƒØ§Ø´' else '' }}">
                            <input type="radio" name="payment_method" value="Ø£ÙˆØ±Ø§Ù†Ø¬ ÙƒØ§Ø´"
                                   {{ 'checked' if form_data.get('payment_method') == 'Ø£ÙˆØ±Ø§Ù†Ø¬ ÙƒØ§Ø´' else '' }} 
                                   style="display: none;">
                            <i class="fas fa-mobile-alt" style="color: #ff6600;"></i>
                            <div class="option-title">Ø£ÙˆØ±Ø§Ù†Ø¬ ÙƒØ§Ø´</div>
                        </label>
                        
                        <label class="option-btn payment-btn {{ 'selected' if form_data.get('payment_method') == 'ÙˆÙŠ ÙƒØ§Ø´' else '' }}">
                            <input type="radio" name="payment_method" value="ÙˆÙŠ ÙƒØ§Ø´"
                                   {{ 'checked' if form_data.get('payment_method') == 'ÙˆÙŠ ÙƒØ§Ø´' else '' }} 
                                   style="display: none;">
                            <i class="fas fa-mobile-alt" style="color: #7b2cbf;"></i>
                            <div class="option-title">ÙˆÙŠ ÙƒØ§Ø´</div>
                        </label>
                        
                        <label class="option-btn payment-btn {{ 'selected' if form_data.get('payment_method') == 'ÙƒØ§Ø±Øª ØªÙŠÙ„Ø¯Ø§' else '' }}">
                            <input type="radio" name="payment_method" value="ÙƒØ§Ø±Øª ØªÙŠÙ„Ø¯Ø§"
                                   {{ 'checked' if form_data.get('payment_method') == 'ÙƒØ§Ø±Øª ØªÙŠÙ„Ø¯Ø§' else '' }} 
                                   style="display: none;">
                            <i class="fas fa-credit-card" style="color: #6c5ce7;"></i>
                            <div class="option-title">ÙƒØ§Ø±Øª ØªÙŠÙ„Ø¯Ø§</div>
                        </label>
                        
                        <label class="option-btn payment-btn {{ 'selected' if form_data.get('payment_method') == 'Ø¥Ù†Ø³ØªØ§ Ø¨Ø§ÙŠ' else '' }}">
                            <input type="radio" name="payment_method" value="Ø¥Ù†Ø³ØªØ§ Ø¨Ø§ÙŠ"
                                   {{ 'checked' if form_data.get('payment_method') == 'Ø¥Ù†Ø³ØªØ§ Ø¨Ø§ÙŠ' else '' }} 
                                   style="display: none;">
                            <i class="fas fa-link" style="color: #00b894;"></i>
                            <div class="option-title">Ø¥Ù†Ø³ØªØ§ Ø¨Ø§ÙŠ</div>
                        </label>
                    </div>
                    {% if validation_errors.get('payment_method') %}
                    <div class="error-message show">{{ validation_errors.payment_method }}</div>
                    {% endif %}
                    
                    <!-- Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ© -->
                    {% if form_data.get('payment_method') in ['ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´', 'Ø§ØªØµØ§Ù„Ø§Øª ÙƒØ§Ø´', 'Ø£ÙˆØ±Ø§Ù†Ø¬ ÙƒØ§Ø´', 'ÙˆÙŠ ÙƒØ§Ø´'] %}
                    <div class="dynamic-payment-input show">
                        <div class="form-group">
                            <label class="form-label">ğŸ“± Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (11 Ø±Ù‚Ù…)</label>
                            <input type="tel" 
                                   class="form-input {{ 'invalid' if validation_errors.get('mobile_number') else '' }}" 
                                   name="mobile_number" 
                                   placeholder="01xxxxxxxxx" 
                                   maxlength="11"
                                   value="{{ form_data.get('mobile_number', '') }}">
                            {% if validation_errors.get('mobile_number') %}
                            <div class="error-message show">{{ validation_errors.mobile_number }}</div>
                            {% endif %}
                        </div>
                    </div>
                    {% elif form_data.get('payment_method') == 'ÙƒØ§Ø±Øª ØªÙŠÙ„Ø¯Ø§' %}
                    <div class="dynamic-payment-input show">
                        <div class="form-group">
                            <label class="form-label">ğŸ’³ Ø±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© (16 Ø±Ù‚Ù…)</label>
                            <input type="text" 
                                   class="form-input {{ 'invalid' if validation_errors.get('card_number') else '' }}" 
                                   name="card_number" 
                                   placeholder="1234567890123456" 
                                   maxlength="16"
                                   value="{{ form_data.get('card_number', '') }}">
                            {% if validation_errors.get('card_number') %}
                            <div class="error-message show">{{ validation_errors.card_number }}</div>
                            {% endif %}
                        </div>
                    </div>
                    {% elif form_data.get('payment_method') == 'Ø¥Ù†Ø³ØªØ§ Ø¨Ø§ÙŠ' %}
                    <div class="dynamic-payment-input show">
                        <div class="form-group">
                            <label class="form-label">ğŸ”— Ø±Ø§Ø¨Ø· Ø¥Ù†Ø³ØªØ§ Ø¨Ø§ÙŠ</label>
                            <input type="url" 
                                   class="form-input {{ 'invalid' if validation_errors.get('payment_link') else '' }}" 
                                   name="payment_link" 
                                   placeholder="https://instapay.com.eg/..."
                                   value="{{ form_data.get('payment_link', '') }}">
                            {% if validation_errors.get('payment_link') %}
                            <div class="error-message show">{{ validation_errors.payment_link }}</div>
                            {% endif %}
                        </div>
                    </div>
                    {% endif %}
                </div>

                <!-- Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© -->
                <div class="form-section">
                    <h2 class="section-title">
                        <i class="fas fa-sticky-note"></i>
                        Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
                    </h2>
                    
                    <div class="form-group">
                        <textarea class="form-input" 
                                  name="notes" 
                                  rows="4" 
                                  placeholder="Ø£ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø£Ùˆ Ø·Ù„Ø¨Ø§Øª Ø®Ø§ØµØ©...">{{ form_data.get('notes', '') }}</textarea>
                    </div>
                </div>

                <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ -->
                <div class="submit-section">
                    <button type="submit" class="submit-btn">
                        <i class="fas fa-paper-plane"></i>
                        Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø¨ÙŠØ¹ Ø§Ù„ÙƒÙˆÙŠÙ†Ø²
                    </button>
                    
                    <a href="{{ url_for('index') }}" class="submit-btn" style="background: #6c757d; display: inline-block; text-decoration: none; margin-top: 10px;">
                        <i class="fas fa-arrow-right"></i>
                        Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                    </a>
                </div>
            </form>
        </div>
    </div>
</body>
</html>
